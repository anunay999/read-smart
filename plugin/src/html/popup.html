<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="../css/popup.css" />
</head>
<body>
  <div class="container">
    <div class="header">
      <img src="../../assets/icons/icon48.png" alt="read smart">
      <h1>read smart</h1>
    </div>
    
    <button class="settings-button" id="configButton">
      Settings
    </button>
    
    <div class="feature-section">
      <div class="feature-item">
        <div class="feature-info">
          <div class="feature-title">Reader Mode</div>
          <div class="feature-description">Clean, distraction-free reading view</div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="readerModeToggle">
          <span class="slider"></span>
        </label>
      </div>
      
      <div class="feature-item">
        <div class="feature-info">
          <div class="feature-title">Smart Rephrase Mode</div>
          <div class="feature-description">Memory-augmented reading view</div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="rephraseToggle">
          <span class="slider"></span>
        </label>
      </div>
    </div>
    
    <div class="status" id="statusText">
      Normal reading mode
    </div>

    <!-- Progress Indicator -->
    <div id="progressContainer" class="progress-container" style="display:none; margin-top:32px;">
      <div class="progress-track"></div>
      <div id="progressSteps" class="progress-steps"></div>
    </div>

    <div class="action-buttons">
      <button id="memoryButton" class="action-btn primary">
        Add to Memory
      </button>
      <button id="dashboardButton" class="action-btn">
        View Memory
      </button>
    </div>
  </div>
  
  <!-- Configuration Modal -->
  <div id="configModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">API Configuration</h2>
        <button class="close" id="closeModal">&times;</button>
      </div>
      
      <div class="modal-body">
        <div class="api-key-group">
          <label class="api-key-label">Gemini API Key</label>
          <input type="password" id="geminiApiKeyInput" class="api-key-input" placeholder="Enter your Gemini API key">
          <div id="geminiStatus" class="api-status missing">Not configured</div>
        </div>
        
        <div class="api-key-group">
          <label class="api-key-label">Mem0 API Key</label>
          <input type="password" id="mem0ApiKeyInput" class="api-key-input" placeholder="Enter your Mem0 API key">
          <div id="mem0Status" class="api-status missing">Not configured</div>
        </div>
      </div>
      
      <div class="modal-buttons">
        <button id="cancelConfig" class="modal-button cancel">Cancel</button>
        <button id="saveConfig" class="modal-button save">Save Configuration</button>
      </div>
    </div>
  </div>
  
  <script src="../js/popup.js"></script>
</body>
</html>
